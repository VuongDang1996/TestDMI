<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ETCS DMI Simulation</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="ui-container">
        <div id="simulation-view">
            <div id="sim-background"></div>
            <div id="sim-train">
                <div class="train-body">
                    <div class="window"></div>
                    <div class="window"></div>
                    <div class="window"></div>
                    <div class="stripe"></div>
                </div>
                <div class="train-front">
                    <div class="windshield"></div>
                    <div class="light"></div>
                </div>
                <div class="wheels">
                    <div class="wheel"></div>
                    <div class="wheel"></div>
                    <div class="wheel"></div>
                </div>
            </div>
            <div id="sim-speed-overlay">0 km/h</div>
        </div>

        <div id="dmi-container">
        <div id="area-a" class="dmi-area">
            <div id="distance-bar-container">
                <div id="distance-value">0</div>
                <div id="distance-bar">
                    <div id="distance-fill"></div>
                </div>
            </div>
        </div>
        <div id="area-b" class="dmi-area">
            <canvas id="speed-dial" width="280" height="300"></canvas>
            <div id="mode-icon" class="symbol"></div>
        </div>
        <div id="area-c" class="dmi-area">
            <div id="c1-icon" class="symbol"></div>
            <div id="level-icon" class="symbol"></div>
        </div>
        <div id="area-d" class="dmi-area">
            <!-- Planning Area -->
            <div id="planning-scale">
                <div class="tick" style="bottom: 0%;">0</div>
                <div class="tick" style="bottom: 12.5%;">500</div>
                <div class="tick" style="bottom: 25%;">1000</div>
                <div class="tick" style="bottom: 50%;">2000</div>
                <div class="tick" style="bottom: 100%;">4000</div>
                <div class="scale-line"></div>
            </div>
            <div id="planning-content">
                <!-- Gradient Profile (Left) -->
                <div id="gradient-profile">
                    <div class="gradient-segment" style="bottom: 0%; height: 25%;">
                        <span class="grad-icon">‚ñ≤</span>
                    </div>
                    <div class="gradient-segment" style="bottom: 25%; height: 25%;">
                        <span class="grad-icon">‚ñº</span>
                    </div>
                </div>
                <!-- Speed Profile (Right) -->
                <div id="speed-profile">
                    <div class="pasp-segment dark" style="bottom: 0%; height: 40%;"></div>
                    <div class="pasp-segment light" style="bottom: 40%; height: 30%;"></div>
                    <div class="pasp-segment dark" style="bottom: 70%; height: 30%;"></div>
                </div>
                <!-- Indication Marker (Yellow Triangle) -->
                <div id="indication-marker" style="bottom: 25%;"></div>
            </div>
        </div>
        <div id="area-e" class="dmi-area">
            <!-- Text Area -->
            <div id="driver-message"></div>
        </div>
        <div id="area-f" class="dmi-area">
            <!-- Menu Area -->
            <button class="menu-btn">Main</button>
            <button class="menu-btn">Over-<br>ride</button>
            <button class="menu-btn">Data<br>view</button>
            <button class="menu-btn">Spec</button>
            <button class="menu-btn icon-btn">üîß</button>
        </div>
        <div id="area-g" class="dmi-area">
            <div id="train-data-display">
                <span class="label">TRAIN:</span>
                <span id="lbl-train-number">12345</span>
            </div>
        </div>
    </div>
    </div> <!-- End of ui-container -->

    <div id="control-panel">
        <h3>Control Panel</h3>
        <div class="control-group">
            <label>Train Number:</label>
            <input type="text" id="inp-train-number" value="12345" maxlength="8">
        </div>
        <div class="control-group">
            <label>Current Speed: <span id="val-current-speed">0</span> km/h</label>
            <input type="range" id="inp-current-speed" min="0" max="400" value="0">
        </div>
        <div class="control-group">
            <label>Permitted Speed: <span id="val-permitted-speed">100</span> km/h</label>
            <input type="range" id="inp-permitted-speed" min="0" max="400" value="100">
        </div>
        <div class="control-group">
            <label>Target Speed: <span id="val-target-speed">0</span> km/h</label>
            <input type="range" id="inp-target-speed" min="0" max="400" value="0">
        </div>
        <div class="control-group">
            <label>Distance to Target: <span id="val-distance">1000</span> m</label>
            <input type="range" id="inp-distance" min="0" max="2000" value="1000">
        </div>
        <div class="control-group">
            <label>Max Scale:</label>
            <select id="sel-max-scale">
                <option value="140">140 km/h</option>
                <option value="180">180 km/h</option>
                <option value="250">250 km/h</option>
                <option value="400" selected>400 km/h</option>
            </select>
        </div>
        <div class="control-group">
            <label>Mode:</label>
            <select id="sel-mode">
                <option value="FS">Full Supervision (FS)</option>
                <option value="OS">On Sight (OS)</option>
                <option value="SH">Shunting (SH)</option>
                <option value="SR">Staff Responsible (SR)</option>
                <option value="UN">Unfitted (UN)</option>
                <option value="NL">Non-Leading (NL)</option>
                <option value="SB">Stand By (SB)</option>
                <option value="TR">Trip (TR)</option>
                <option value="PT">Post Trip (PT)</option>
                <option value="SF">System Failure (SF)</option>
            </select>
        </div>
        <div class="control-group">
            <label>Level:</label>
            <select id="sel-level">
                <option value="0">Level 0</option>
                <option value="1">Level 1</option>
                <option value="2" selected>Level 2</option>
                <option value="3">Level 3</option>
                <option value="NTC">NTC</option>
            </select>
        </div>
        <div class="control-group">
            <label>Status:</label>
            <select id="sel-status">
                <option value="Normal">Normal</option>
                <option value="Indication">Indication</option>
                <option value="Warning">Warning</option>
                <option value="Intervention">Intervention</option>
            </select>
        </div>
    </div>

    <div id="scenarios-panel">
        <h3>Real-world Scenarios</h3>
        <div class="scenario-buttons">
            <button class="scenario-btn" data-scenario="normal">Normal Driving (FS)</button>
            <button class="scenario-btn" data-scenario="approaching">Approaching Target</button>
            <button class="scenario-btn" data-scenario="overspeed">Overspeed (Warning)</button>
            <button class="scenario-btn" data-scenario="intervention">Intervention (Brake)</button>
            <button class="scenario-btn" data-scenario="shunting">Shunting (SH)</button>
            <button class="scenario-btn" data-scenario="onsight">On Sight (OS)</button>
            <button class="scenario-btn" data-scenario="trip">Trip (TR)</button>
        </div>
    </div>

    <div id="recorder-panel">
        <h3>Data Recorder</h3>
        <div class="recorder-controls">
            <button id="btn-record" class="rec-btn">üî¥ Record</button>
            <button id="btn-stop" class="rec-btn" disabled>‚èπ Stop</button>
            <button id="btn-play" class="rec-btn" disabled>‚ñ∂ Play</button>
        </div>
        <div id="rec-status">Ready</div>
    </div>

    <div style="margin-top: 20px; text-align: center;">
        <a href="guide.html" style="color: white; text-decoration: underline;">View User Guide & Logic Explanation</a>
    </div>

    <script src="script.js"></script>
</body>
</html>